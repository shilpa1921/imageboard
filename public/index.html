<!doctype html>
<html>
<head>
    <title>My Imageboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel = "stylesheet" href ="css/styles.css">
</head>
<body>

    <h1>My imageboard</h1>


<!-- this container for our vue instanceit will have access to our vue code -->
    <div id = "main">

      <first-component 
   v-if="selectedImage" 
   post-title="goodbye" 
   :id="selectedImage"
   @close = "closeMe"
   @delete="deleteFun"
 
   
  ></first-component>


        <form id ="form">
          <input v-model = "title" type = "text" name = "title" placeholder="title">
          <input v-model = "description" type = "text" name = "description" placeholder="decription">
          <input v-model = "username" type = "text" name = "username" placeholder="username">
          <input @change = "handleChange" type = "file" name = "file" accept="image/*">
          <button @click = "handleClick">Submit</button>
        </form>



      <div id = container>
      <ul id = "grid">
       
          <div v-for='image in images' >
              <a :href = "'#'+ image.id">
                    <div id = "image"> 
                      
                      <img v-bind:src="image.url"><br>
                      {{image.title}} {{image.id}}
                      
                    </div> 
                </a> 

            </div>
             <button v-if="more" id="more" @click="seeMore">See More</button>

       </ul>
      
        </div>
       
    </div>

    <script type="text/x-template" id="template">
        <div class="component">
           <div>
                <h1 @click="closeModal">X</h1>
                <!-- <div v-for='item in name' ></div> -->
                <div v-for='item in arr' >
                <h2 id = "title">Title:{{item.title}}</h2>
                <img v-bind:src="item.url"><br>
                <h3 id ="desc">Description:{{item.description}}</h3>
                <p id = "user">Created by {{item.username}}   {{item.created_at}}</p>
                
           
                <a :href = "'#'+ prev">
                 <button  v-if="prev">prev {{prev}}</button></a>
                <button @click = "deletePic">Delete</button>
                 <a  :href = "'#'+ next" >
                 <button v-if="next"  >next {{next}}</button></a>
                 
                </div>

              </div>
              <div>
                <form id ="formcom">
                      
                    <input v-model = "username" type = "text" name = "username" placeholder="username">
                    <input v-model = "comment" type = "text" name = "comment" placeholder="comment">
                    <button @click = "ClickInComponent">Post</button>
                   
                  
                </form> 
                <div id = "box" v-for = "each in comments">
                       <p id = "username"> {{each.username}}</p>
                       <p id = "comment"> {{each.comment}} {{each.id}}</p>
                    <button @click = "reply = each.id">reply</button>
                    <form v-if="reply" id ="formcom">
                      
                    <input v-model = "username" type = "text" name = "username" placeholder="username">
                    <input v-model = "comment" type = "text" name = "comment" placeholder="comment">
                    <button @click = "replypostFun">Post</button>
                   
                  
                </form>
                </div>
                 <!-- <div v-for='each in comments'> -->

          
                 </div>
               
              </div>
              
            <!-- <button @click="count++">Click Me!</button>
            <h3>Count: {{count}}</h3> -->
        </div>
    </script>

    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src= "/js/script.js"></script>
</body>
</html>
